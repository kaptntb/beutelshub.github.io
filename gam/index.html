<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Beutelshub: Mini Idle RPG Demo</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <span class="logo">üß∞</span>
      <div>
        <div class="title">Beutelshub Mini Idle RPG</div>
        <div class="subtitle">Demo (statisch, localStorage Save)</div>
      </div>
    </div>
    <div class="top-actions">
      <button id="btn-export" class="ghost">Export Save</button>
      <button id="btn-import" class="ghost">Import Save</button>
      <button id="btn-reset" class="danger">Reset</button>
    </div>
  </header>

  <main class="layout">
    <section class="card">
      <h2>Held</h2>

      <!-- NEU: Hero Bild -->
      <div class="hero-visual">
        <img src="assets/hero.png" id="hero-img" alt="Held">
      </div>

      <div class="grid2">
        <div>
          <div class="label">Name</div>
          <div class="row">
            <input id="hero-name" type="text" maxlength="18" placeholder="Kapt'n" />
            <button id="btn-rename">Speichern</button>
          </div>
        </div>
        <div>
          <div class="label">Level</div>
          <div class="big" id="hero-level">1</div>
        </div>
      </div>

      <div class="stats">
        <div class="stat"><div class="k">HP</div><div class="v" id="hero-hp">0/0</div></div>
        <div class="stat"><div class="k">St√§rke</div><div class="v" id="hero-str">0</div></div>
        <div class="stat"><div class="k">R√ºstung</div><div class="v" id="hero-arm">0</div></div>
        <div class="stat"><div class="k">Krit</div><div class="v" id="hero-crit">0%</div></div>
        <div class="stat"><div class="k">Gold</div><div class="v" id="hero-gold">0</div></div>
        <div class="stat"><div class="k">XP</div><div class="v" id="hero-xp">0/0</div></div>
      </div>

      <div class="equip">
        <div class="equip-slot">
          <div class="label">Waffe</div>
          <div class="chip" id="equip-weapon">-</div>
        </div>
        <div class="equip-slot">
          <div class="label">R√ºstung</div>
          <div class="chip" id="equip-armor">-</div>
        </div>
        <div class="equip-slot">
          <div class="label">Amulett</div>
          <div class="chip" id="equip-amulet">-</div>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>Quest</h2>
      <p class="muted">W√§hle eine Quest. Der Timer l√§uft auch ‚Äûoffline‚Äú (n√§chster Besuch z√§hlt die Zeit nach).</p>

      <div class="quests" id="quests"></div>

      <div class="timer">
        <div class="timerbar">
          <div class="fill" id="quest-fill"></div>
        </div>
        <div class="timertext" id="quest-text">Keine Quest aktiv.</div>
        <div class="row">
          <button id="btn-claim" disabled>Belohnung einsammeln</button>
          <button id="btn-cancel" class="ghost" disabled>Abbrechen</button>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>Kampf</h2>
      <div class="arena">
        <div class="enemy">
          <div class="enemy-name" id="enemy-name">Wald-Ratte</div>
          <div class="enemy-meta" id="enemy-meta">Lvl 1 ¬∑ HP 0/0</div>
          <div class="hpbar"><div class="fill" id="enemy-fill"></div></div>
        </div>
        <div class="log" id="fight-log"></div>
      </div>
      <div class="row">
        <button id="btn-fight">Gegner angreifen</button>
        <button id="btn-new-enemy" class="ghost">Neuer Gegner</button>
      </div>
      <p class="muted small">Hinweis: In dieser Demo ist alles clientseitig. F√ºr echte Ranglisten/Multiplayer m√ºsste die Logik serverseitig validiert werden.</p>
    </section>

    <section class="card">
      <h2>Inventar</h2>
      <div class="row space">
        <div class="muted">Items: <span id="inv-count">0</span>/30</div>
        <button id="btn-sell-junk" class="ghost">Junk verkaufen</button>
      </div>
      <div class="inventory" id="inventory"></div>
      <p class="muted small">Klick auf ein Item: ausr√ºsten. Shift+Klick: verkaufen.</p>
    </section>

    <section class="card">
      <h2>Shop</h2>
      <p class="muted">Refresh alle 60 Sekunden.</p>
      <div class="row space">
        <div class="muted">N√§chster Refresh: <span id="shop-eta">-</span></div>
        <button id="btn-shop-refresh" class="ghost">Jetzt refresh</button>
      </div>
      <div class="shop" id="shop"></div>
    </section>

    <section class="card">
      <h2>√úber</h2>
      <ul class="bullets">
        <li>Statische Demo f√ºr GitHub Pages.</li>
        <li>Speichert automatisch (localStorage) und exportiert/importiert JSON.</li>
        <li>Quest-Timer + Offline-Fortschritt.</li>
        <li>Kampf-Simulation + Loot.</li>
      </ul>
      <div class="muted small">Version: <span id="version"></span></div>
    </section>
  </main>

  <dialog id="dlg-import">
    <form method="dialog" class="dialog">
      <h3>Save importieren</h3>
      <textarea id="import-text" rows="10" spellcheck="false" placeholder="Hier JSON reinkopieren..."></textarea>
      <div class="row end">
        <button value="cancel" class="ghost">Abbrechen</button>
        <button id="btn-do-import" value="ok">Import</button>
      </div>
      <p class="muted small">Achtung: √ºberschreibt den aktuellen Spielstand.</p>
    </form>
  </dialog>

  <script src="game.js"></script>
</body>
</html>
